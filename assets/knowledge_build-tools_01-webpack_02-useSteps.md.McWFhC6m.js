import{_ as n}from"./chunks/ArticleMetadata.RGN0iFoV.js";import{_ as k,c as p,J as d,w as r,m as t,a as o,V as c,E as F,o as l,b as g,e as B}from"./chunks/framework.YbGCv4uC.js";import"./chunks/theme.RSmLyVan.js";import"./chunks/index.YGyFk2XV.js";const q=JSON.parse('{"title":"webpack的使用步骤","description":"","frontmatter":{"title":"webpack的使用步骤","date":"2022-8-21 18:51","tags":["webpack"]},"headers":[],"relativePath":"knowledge/build-tools/01-webpack/02-useSteps.md","filePath":"knowledge/build-tools/01-webpack/02-useSteps.md","lastUpdated":1707352895000}'),y={name:"knowledge/build-tools/01-webpack/02-useSteps.md"},D=t("h1",{id:"_2-webpack的使用步骤",tabindex:"-1"},[o("2. webpack的使用步骤 "),t("a",{class:"header-anchor",href:"#_2-webpack的使用步骤","aria-label":'Permalink to "2. webpack的使用步骤"'},"​")],-1),C=c(`<h2 id="_2-0-webpack基础使用" tabindex="-1">2.0_webpack基础使用 <a class="header-anchor" href="#_2-0-webpack基础使用" aria-label="Permalink to &quot;2.0_webpack基础使用&quot;">​</a></h2><blockquote><p>目标: 把src下的2个js文件, 打包到1个js中, 并输出到默认dist目录下</p></blockquote><p>默认入口: ./src/index.js</p><p>默认出口: ./dist/main.js</p><p>==注意:路径上, 文件夹, 文件名不能叫webpack/其他已知的模块名==</p><ol><li><p>初始化包环境</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">yarn</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> init</span></span></code></pre></div></li><li><p>安装依赖包</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">yarn</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> add</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> webpack</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> webpack-cli</span><span style="--shiki-light:#D19A66;--shiki-dark:#C3E88D;"> -g</span><span style="--shiki-light:#7F848E;--shiki-dark:#676E95;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> # 全局安装</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">yarn</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> add</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> webpack</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> webpack-cli</span><span style="--shiki-light:#D19A66;--shiki-dark:#C3E88D;"> -D</span><span style="--shiki-light:#7F848E;--shiki-dark:#676E95;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> # 局部安装</span></span></code></pre></div></li><li><p>配置scripts(自定义命令)</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">scripts:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> {</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">	&quot;build&quot;</span><span style="--shiki-light:#56B6C2;--shiki-dark:#82AAFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;">webpack</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">}</span></span></code></pre></div></li><li><p>通过配置来指定入口和出口</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">npx</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> webpack</span><span style="--shiki-light:#D19A66;--shiki-dark:#C3E88D;"> --entry</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> ./src/main.js</span><span style="--shiki-light:#D19A66;--shiki-dark:#C3E88D;"> --output-path</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> ./build</span></span></code></pre></div></li><li><p>新建目录src</p></li><li><p>新建src/add/add.js - 定义求和函数导出</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">export</span><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;"> const</span><span style="--shiki-light:#61AFEF;--shiki-dark:#BABED8;"> addFn</span><span style="--shiki-light:#56B6C2;--shiki-dark:#89DDFF;"> =</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> (</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> b</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;"> =&gt;</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> a</span><span style="--shiki-light:#56B6C2;--shiki-dark:#89DDFF;"> +</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> b</span></span></code></pre></div></li><li><p>新建src/index.js导入使用</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">import</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> {</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;">addFn</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">}</span><span style="--shiki-light:#C678DD;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> from</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;">./add/add</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#BABED8;">console</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#82AAFF;">log</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">(</span><span style="--shiki-light:#61AFEF;--shiki-dark:#82AAFF;">addFn</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">(</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;">10</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;"> 20</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">))</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">;</span></span></code></pre></div></li><li><p>运行打包命令</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">yarn</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> build</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#676E95;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#或者 npm run build</span></span></code></pre></div></li></ol><blockquote><p>总结: src并列处, 生成默认dist目录和打包后默认main.js文件</p></blockquote><h2 id="_2-1-webpack-更新打包" tabindex="-1">2.1_webpack 更新打包 <a class="header-anchor" href="#_2-1-webpack-更新打包" aria-label="Permalink to &quot;2.1_webpack 更新打包&quot;">​</a></h2><blockquote><p>目标: 以后代码变更, 如何重新打包呢</p></blockquote><ol><li><p>新建src/tool/tool.js - 定义导出数组求和方法</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">export</span><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;"> const</span><span style="--shiki-light:#61AFEF;--shiki-dark:#BABED8;"> getArrSum</span><span style="--shiki-light:#56B6C2;--shiki-dark:#89DDFF;"> =</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> arr</span><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;"> =&gt;</span><span style="--shiki-light:#E5C07B;--shiki-dark:#BABED8;"> arr</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#82AAFF;">reduce</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">(</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">sum</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> val</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;"> =&gt;</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> sum</span><span style="--shiki-light:#56B6C2;--shiki-dark:#89DDFF;"> +=</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> val</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;"> 0</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">)</span></span></code></pre></div></li><li><p>src/index.js - 导入使用</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">import</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> {</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;">addFn</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">}</span><span style="--shiki-light:#C678DD;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> from</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;">./add/add</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">import</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> {</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;">getArrSum</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">}</span><span style="--shiki-light:#C678DD;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> from</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;">./tool/tool</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#BABED8;">console</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#82AAFF;">log</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">(</span><span style="--shiki-light:#61AFEF;--shiki-dark:#82AAFF;">addFn</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">(</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;">10</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;"> 20</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">))</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#BABED8;">console</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#82AAFF;">log</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">(</span><span style="--shiki-light:#61AFEF;--shiki-dark:#82AAFF;">getArrSum</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">([</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;"> 2</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;"> 3</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">]))</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">;</span></span></code></pre></div></li><li><p>重新打包</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">yarn</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> build</span></span></code></pre></div></li></ol><blockquote><p>总结1: src下开发环境, dist是打包后, 分别独立</p><p>总结2: 打包后格式压缩, 变量压缩等</p></blockquote>`,11);function A(s,E,b,m,u,v){const h=n,e=F("ClientOnly");return l(),p("div",null,[D,d(e,null,{default:r(()=>{var i,a;return[(((i=s.$frontmatter)==null?void 0:i.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(l(),g(h,{key:0,article:s.$frontmatter,readTime:1,words:152},null,8,["article"])):B("",!0)]}),_:1}),C])}const S=k(y,[["render",A]]);export{q as __pageData,S as default};
