import{_ as p}from"./chunks/ArticleMetadata.1VcEe8Bb.js";import{_ as h,D as k,o as n,c as o,I as d,w as r,U as t,b as F,e as c}from"./chunks/framework.5FtAyiyV.js";import"./chunks/index.w40geAFS.js";import"./chunks/index.yNJctKkT.js";import"./chunks/commonjsHelpers.5-cIlDoe.js";const T=JSON.parse('{"title":"GitHub Action脚本","description":"GitHub Action - 自动部署及发布版本及生成更新日志","frontmatter":{"title":"GitHub Action脚本","description":"GitHub Action - 自动部署及发布版本及生成更新日志","author":"yalis","date":"2024-01-06 15:25","categories":["github"],"tags":["github"],"lastUpdated":true,"showComment":true},"headers":[],"relativePath":"blogs/2024/01/06/GitHub Action 脚本.md","filePath":"blogs/2024/01/06/GitHub Action 脚本.md","lastUpdated":1704614931000}'),y={name:"blogs/2024/01/06/GitHub Action 脚本.md"},B=t(`<h2 id="deploy-action" tabindex="-1">Deploy-action <a class="header-anchor" href="#deploy-action" aria-label="Permalink to &quot;Deploy-action&quot;">​</a></h2><p>首先在根目录 <code>.github/workflows</code> 下创建 <code>Deploy.yml</code> 文件，并添加以下代码</p><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code"><code><span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">name</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> Build and Deploy</span></span>
<span class="line"><span style="--shiki-light:#D19A66;--shiki-dark:#FF9CAC;">on</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">  push</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">    branches</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> master</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">jobs</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">  build-and-deploy</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">    runs-on</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> ubuntu-latest</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">    steps</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;"> name</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> Checkout  code</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">        uses</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> actions/checkout@v3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;"> name</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> Install pnpm</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">        uses</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> pnpm/action-setup@v2</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">        with</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">          version</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> latest</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;"> name</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> Set node version to 20</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">        uses</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> actions/setup-node@v2</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">        with</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">          node-version</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;"> 20</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">          cache</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;">pnpm</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;"> run</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> pnpm install</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;"> name</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> Install and Build</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">   </span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">        run</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#C678DD;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> |</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;">          pnpm build</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">        env</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">          NODE_OPTIONS</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;">--max_old_space_size=4096</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;"> name</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> Deploy</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">  </span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">        uses</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> JamesIves/github-pages-deploy-action@4.1.3</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">        with</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">          BRANCH</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> gh-pages</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">          FOLDER</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> docs/.vitepress/dist</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">          ACCESS_TOKEN</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> \${{ secrets.ACCESS_TOKEN }}</span></span></code></pre></div><h2 id="release-please-action" tabindex="-1">release-please-action <a class="header-anchor" href="#release-please-action" aria-label="Permalink to &quot;release-please-action&quot;">​</a></h2><p>首先在根目录 <code>.github/workflows</code> 下创建 <code>release.yml</code> 文件，并添加以下代码</p><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code"><code><span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">yml复制代码on</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">  push</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">    branches</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> master</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">name</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> Release</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">jobs</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">  release-please</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">    runs-on</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> ubuntu-latest</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">    steps</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;"> uses</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> GoogleCloudPlatform/release-please-action@v3</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">        id</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> release</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">        with</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">          token</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> \${{ secrets.RELEASE_TOKEN }}</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">          release-type</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> node</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">          package-name</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> standard-version</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">          changelog-types</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;">[{&quot;type&quot;: &quot;types&quot;, &quot;section&quot;:&quot;Types&quot;, &quot;hidden&quot;: false},{&quot;type&quot;: &quot;revert&quot;, &quot;section&quot;:&quot;Reverts&quot;, &quot;hidden&quot;: false},{&quot;type&quot;: &quot;feat&quot;, &quot;section&quot;: &quot;Features&quot;, &quot;hidden&quot;: false},{&quot;type&quot;: &quot;fix&quot;, &quot;section&quot;: &quot;Bug Fixes&quot;, &quot;hidden&quot;: false},{&quot;type&quot;: &quot;improvement&quot;, &quot;section&quot;: &quot;Feature Improvements&quot;, &quot;hidden&quot;: false},{&quot;type&quot;: &quot;docs&quot;, &quot;section&quot;:&quot;Docs&quot;, &quot;hidden&quot;: false},{&quot;type&quot;: &quot;style&quot;, &quot;section&quot;:&quot;Styling&quot;, &quot;hidden&quot;: false},{&quot;type&quot;: &quot;refactor&quot;, &quot;section&quot;:&quot;Code Refactoring&quot;, &quot;hidden&quot;: false},{&quot;type&quot;: &quot;perf&quot;, &quot;section&quot;:&quot;Performance Improvements&quot;, &quot;hidden&quot;: false},{&quot;type&quot;: &quot;test&quot;, &quot;section&quot;:&quot;Tests&quot;, &quot;hidden&quot;: false},{&quot;type&quot;: &quot;build&quot;, &quot;section&quot;:&quot;Build System&quot;, &quot;hidden&quot;: false},{&quot;type&quot;: &quot;ci&quot;, &quot;section&quot;:&quot;CI&quot;, &quot;hidden&quot;:false}]</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&#39;</span></span></code></pre></div><p>当监听到 <code>master</code> 分支变化时，该 action 会根据项目中符合规范的 <code>commit</code> ，自动生成更新日志，并提交发布版本的 <code>pull request</code> 。</p><p><code>changelog-types</code> 字段默认只有 <code>feat</code> 和 <code>fix</code> 类型，如果需要展示其他的更新日志，可以如上自行设置。</p><p>接着我们还需要配置 <code>RELEASE_TOKEN</code> 变量。</p><h1 id="生成-token" tabindex="-1">生成 Token <a class="header-anchor" href="#生成-token" aria-label="Permalink to &quot;生成 Token&quot;">​</a></h1>`,10),g=t(`<p>脚本编写完成之后，我们需要配置 <code>RELEASE_TOKEN</code> 这个变量，确保 <code>release-please-action</code> 有对应的权限进行一些必要的修改和更新。</p><p>首先进入到设置页面，找到 <code>Developer settings</code> 中的 <code>Personal access tokens</code>，然后点击 <code>Generate new token</code> 进行新增。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code"><code><span class="line"><span>Note\` 可以随意填写，不需要与 \`action\` 配置的 \`RELEASE_TOKEN\` 一样，这里我们填 \`release-test</span></span></code></pre></div><p><code>Expiration</code> 设置不过期 <code>No expiration</code>，然后勾选以下权限</p><p>最后点击 <code>Generate token</code>，即可生成对应 <code>Token</code>，然后点击复制按钮进行复制。</p><p><strong>注意：该页面关闭之后，如果没有复制或者保存的话，token将会消失，只能重新执行上述步骤重新生成。</strong></p><h2 id="生成-release-token" tabindex="-1">生成 RELEASE_TOKEN <a class="header-anchor" href="#生成-release-token" aria-label="Permalink to &quot;生成 RELEASE_TOKEN&quot;">​</a></h2><p>接下来，需要到项目中的 <code>Settings</code> 去配置 <code>RELEASE_TOKEN</code></p><p>点击 <code>New repostory secret</code>，<code>Name</code> 需要与 <code>action</code> 中的 <code>secrets.xxx</code> 一致，<code>Value</code> 的话就是我们上一步生成出来的 <code>Token</code>，直接粘贴即可。</p><p>之后点击 <code>Add secret</code> 即可生成 <code>RELEASE_TOKEN</code></p><h2 id="automerge-action" tabindex="-1">automerge-action <a class="header-anchor" href="#automerge-action" aria-label="Permalink to &quot;automerge-action&quot;">​</a></h2><p>我们使用 <code>automerge-action</code> 来自动合并 pr 。</p><p>根目录 <code>.github/workflows</code> 下创建 <code>auto-merge.yml</code> 文件，并添加以下代码</p><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code"><code><span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">yml复制代码name</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> Automerge</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D19A66;--shiki-dark:#FF9CAC;">on</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">  pull_request</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">    types</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> labeled</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> unlabeled</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> synchronize</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> opened</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> edited</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> ready_for_review</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> reopened</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> unlocked</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">  pull_request_review</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">    types</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> submitted</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">  status</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">jobs</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#676E95;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">  # 合并发布版本的 pr 到 master</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">  auto-merge</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">    runs-on</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> ubuntu-latest</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">    steps</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;"> name</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> Automerge</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">        uses</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;">pascalgn/automerge-action@v0.14.3</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">        env</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">          GITHUB_TOKEN</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;">\${{ secrets.RELEASE_TOKEN }}</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">          MERGE_LABELS</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;"> &#39;&#39;</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;">          MERGE_FILTER_AUTHOR</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;">mafqla</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&#39;</span></span></code></pre></div><p>这样我们就配置完成了，推送到 <code>master</code> 的时候，即可查看效果。</p>`,15);function D(s,u,C,E,q,A){const e=p,l=k("ClientOnly");return n(),o("div",null,[B,d(l,null,{default:r(()=>{var i,a;return[(((i=s.$frontmatter)==null?void 0:i.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(n(),F(e,{key:0,article:s.$frontmatter},null,8,["article"])):c("",!0)]}),_:1}),g])}const S=h(y,[["render",D]]);export{T as __pageData,S as default};
