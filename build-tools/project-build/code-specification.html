<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>一. 代码规范 | skyseek-notes</title>
    <meta name="description" content="一个记录个人学习和总结的笔记文档by寻觅">
    <link rel="stylesheet" href="/assets/style.75d92c12.css">
    <link rel="modulepreload" href="/assets/chunks/VPAlgoliaSearchBox.f8779f10.js">
    <link rel="modulepreload" href="/assets/chunks/ui-custom.35f10a63.js">
    <link rel="modulepreload" href="/assets/app.2843b1ef.js">
    <link rel="modulepreload" href="/assets/build-tools_project-build_code-specification.md.a4938e33.lean.js">
    
    <link rel="icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAACDtub/2vb+/9v2///b9v//2vX+/9r2/v/a9f//2/b//9v2///b9v//2vb+/9v2///b9v//2/b//9jy+f9AcKz/ksDs/9r2/v/b9v//2/b//9j0/f+y2Oz/2fX+/9v2///a9v//w+X3/6XP7P/b9v7/2/b//9v2///Y8vn/U4fA/3er5f/a9v7/2/b//9v2///b9v//ps/r/77i9f/Q8Pr/0vD6/47A5//T8Pv/2/b//9v2///b9v//1vH5/zd0uv9AgtH/veHz/9bz/P/a9f7/2/b//8Dj9P+Jveb/tNrv/67W7v+Btd7/2fb+/9v2///b9v//v+H0/5DA6f8ZZrv/OXOy/1+d2v+w2fL/2vb+/9v2//+r1fD/o8/v/8jp+P+eyuz/hrrl/9r2/v/a9v7/2vb+/4G24f9foNv/GDtr/y1hnv/L7Pn/a6ff/9b0+//V8vv/jL3i/9b0/f+Qu+r/dZXn/6zV7/+cyez/2fb9/7zh9P93rt7/zvD7/z9snf9votj/2vX+/7Xb8v98s+D/mcXl/8nq9f/r+v3/p8Tq/32Z5v/3/P3/pc3r/3iv3/94sOL/z+36/9r2/v99sNb/f7Pj/9r1///b9v//2vb+/9f0/f/S8vz/+v3+//b6/P+ryOj//v7+/+H2/P/T8vz/2vb+/9r2/v/a9f7/gcLq/2mi3f/a9v7/2/b//9v2///X9P7/z+74/2xudf/X1eX/1dD0/4eHjP+twsr/0/H9/9v2///b9v//2fX+/3e95P9FdrX/0vH6/9r1/v/a9v7/2/b//9n1/f96ipL/5ers//z+/v+RnaP/u9La/9r2/v/b9v//2vb+/87z/P9Qn9v/OWae/2+o3f/J6/v/2fX+/9v2///b9v//2/b//9v2/v/c9v7/2vX+/9v2///b9v7/2vX+/8Hl+P9optz/Oo3D/zRXhf9Ge7f/ueP7/8To/P/Y9P7/2/b+/9v2///b9v//2/b//9v2///b9v//1/T+/8Hn+/+24fr/Q4rL/0GNuf8tNlL/N2Sh/3y15/98s+X/msno/9n1/f/a9v7/2vb+/9r1/v/a9v7/2vX+/6XR7f9wrOL/ZqTf/zZ+v/9Tlrf/Pktw/ztKav87R2D/SEtb/zFZj/9Og7//ZZzU/3+05P+AteX/fq/d/1WRyP82fbz/SYOu/0qGr/9JjLT/Ro+u/y1Kdf9ANjn/PC4w/0c3OP9gUFD/clxW/2dUUv9wanD/UExU/1lIRv9ganD/NXed/0uRt/9HjbH/Q462/0qNp/9WQkD/TTo4/0IwMf9TQEP/U0BB/1M/QP9iTEn/WUM//2lTTf9bSEP/b1lS/0Nbav8/g67/QpS6/0KKr/9fkKD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==">
  <script>(()=>{const e=localStorage.getItem("vitepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-6b5fd0a9><!--[--><!--]--><!--[--><span tabindex="-1" data-v-45f6ae50></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-45f6ae50> Skip to content </a><!--]--><!----><header class="VPNav" data-v-6b5fd0a9 data-v-0e356168><div class="VPNavBar has-sidebar" data-v-0e356168 data-v-8856f192><div class="container" data-v-8856f192><div class="VPNavBarTitle has-sidebar" data-v-8856f192 data-v-6a6f7ff6><a class="title" href="/" data-v-6a6f7ff6><!--[--><img class="VPImage logo" src="/logo.svg" data-v-73ae1788><!--]--><!--[-->寻觅的前端学习笔记<!--]--></a></div><div class="content" data-v-8856f192><div class="VPNavBarSearch search" data-v-8856f192><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key">Meta</kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-8856f192 data-v-a30758ee><span id="main-nav-aria-label" class="visually-hidden" data-v-a30758ee>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/typescript/get-started-quickly.html" data-v-a30758ee data-v-8fba5fa8 data-v-5704c677><!--[-->typescript<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-a30758ee data-v-8dccea88><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8dccea88><span class="text" data-v-8dccea88><!----> 前端工具库 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-8dccea88><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-8dccea88><div class="VPMenu" data-v-8dccea88 data-v-e73581a2><div class="items" data-v-e73581a2><!--[--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/build-tools/webpack/basic.html" data-v-06b18c43 data-v-5704c677><!--[-->webpack<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/build-tools/vite/basic.html" data-v-06b18c43 data-v-5704c677><!--[-->vite<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/build-tools/babel.html" data-v-06b18c43 data-v-5704c677><!--[-->babel.js<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/build-tools/axios.html" data-v-06b18c43 data-v-5704c677><!--[-->axios<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link active" href="/build-tools/project-build/code-specification.html" data-v-06b18c43 data-v-5704c677><!--[-->项目搭建<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-a30758ee data-v-8dccea88><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8dccea88><span class="text" data-v-8dccea88><!----> vue的库 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-8dccea88><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-8dccea88><div class="VPMenu" data-v-8dccea88 data-v-e73581a2><div class="items" data-v-e73581a2><!--[--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/framework/vue3/vue-cli.html" data-v-06b18c43 data-v-5704c677><!--[-->vue-cli<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/vue-plugin/vue-router.html" data-v-06b18c43 data-v-5704c677><!--[-->vue-router<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/vue-plugin/vuex.html" data-v-06b18c43 data-v-5704c677><!--[-->vuex<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/vue-plugin/pinia.html" data-v-06b18c43 data-v-5704c677><!--[-->pinia<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-a30758ee data-v-8dccea88><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8dccea88><span class="text" data-v-8dccea88><!----> 框架 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-8dccea88><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-8dccea88><div class="VPMenu" data-v-8dccea88 data-v-e73581a2><div class="items" data-v-e73581a2><!--[--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/framework/vue3/basicConcepts.html" data-v-06b18c43 data-v-5704c677><!--[-->Vue3<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-8856f192 data-v-311055f2><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-311055f2 data-v-781f9d1b data-v-1dda4c9c><span class="check" data-v-1dda4c9c><span class="icon" data-v-1dda4c9c><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-781f9d1b><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-781f9d1b><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-8856f192 data-v-0ae890f7 data-v-4dcbaf3a><!--[--><a class="VPSocialLink" href="https://github.com/mafqla" title="github" target="_blank" rel="noopener noreferrer" data-v-4dcbaf3a data-v-48c45ef6><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-48c45ef6><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span class="visually-hidden" data-v-48c45ef6>github</span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-8856f192 data-v-0562f5c0 data-v-8dccea88><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-8dccea88><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-8dccea88><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-8dccea88><div class="VPMenu" data-v-8dccea88 data-v-e73581a2><!----><!--[--><!--[--><!----><div class="group" data-v-0562f5c0><div class="item appearance" data-v-0562f5c0><p class="label" data-v-0562f5c0>Appearance</p><div class="appearance-action" data-v-0562f5c0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-0562f5c0 data-v-781f9d1b data-v-1dda4c9c><span class="check" data-v-1dda4c9c><span class="icon" data-v-1dda4c9c><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-781f9d1b><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-781f9d1b><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-0562f5c0><div class="item social-links" data-v-0562f5c0><div class="VPSocialLinks social-links-list" data-v-0562f5c0 data-v-4dcbaf3a><!--[--><a class="VPSocialLink" href="https://github.com/mafqla" title="github" target="_blank" rel="noopener noreferrer" data-v-4dcbaf3a data-v-48c45ef6><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-48c45ef6><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span class="visually-hidden" data-v-48c45ef6>github</span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-8856f192 data-v-6f008456><span class="container" data-v-6f008456><span class="top" data-v-6f008456></span><span class="middle" data-v-6f008456></span><span class="bottom" data-v-6f008456></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-6b5fd0a9 data-v-92b0f14a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-92b0f14a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-92b0f14a><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-92b0f14a>Menu</span></button><a class="top-link" href="#" data-v-92b0f14a> Return to top </a></div><aside class="VPSidebar" data-v-6b5fd0a9 data-v-55e4c7db><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-55e4c7db><span class="visually-hidden" id="sidebar-aria-label" data-v-55e4c7db> Sidebar Navigation </span><!--[--><div class="group" data-v-55e4c7db><section class="VPSidebarGroup" data-v-55e4c7db data-v-1f69a7ed><!----><div class="items" data-v-1f69a7ed><!--[--><a class="VPLink link" href="/build-tools/project-build/code-specification.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>一. 代码规范</span><!--]--><!----></a><a class="VPLink link" href="/build-tools/project-build/third-party-library-integration.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>二. 第三方库集成</span><!--]--><!----></a><a class="VPLink link" href="/build-tools/project-build/default-configuration.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>三. 默认配置</span><!--]--><!----></a><!--]--></div></section></div><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-6b5fd0a9 data-v-a4c57a06><div class="VPDoc has-sidebar" data-v-a4c57a06 data-v-79ca2460><div class="container" data-v-79ca2460><div class="aside" data-v-79ca2460><div class="aside-curtain" data-v-79ca2460></div><div class="aside-container" data-v-79ca2460><div class="aside-content" data-v-79ca2460><div class="VPDocAside" data-v-79ca2460 data-v-779d834d><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline has-outline" data-v-779d834d data-v-51e5a8ce><div class="content" data-v-51e5a8ce><div class="outline-marker" data-v-51e5a8ce></div><div class="outline-title" data-v-51e5a8ce>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-51e5a8ce><span class="visually-hidden" id="doc-outline-aria-label" data-v-51e5a8ce> Table of Contents for current page </span><ul class="root" data-v-51e5a8ce><!--[--><li style="" data-v-51e5a8ce><a class="outline-link" href="#_1-1-集成editorconfig配置" data-v-51e5a8ce>1.1. 集成editorconfig配置</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#_1-2-使用prettier工具" data-v-51e5a8ce>1.2. 使用prettier工具</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#_1-3-使用eslint检测" data-v-51e5a8ce>1.3. 使用ESLint检测</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#_1-4-git-husky和eslint" data-v-51e5a8ce>1.4. git Husky和eslint</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#_1-5-git-commit规范" data-v-51e5a8ce>1.5. git commit规范</a><!----></li><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-779d834d></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-79ca2460><div class="content-container" data-v-79ca2460><!--[--><!--]--><main class="main" data-v-79ca2460><div style="position:relative;" class="vp-doc _build-tools_project-build_code-specification" data-v-79ca2460><div><h1 id="一-代码规范" tabindex="-1">一. 代码规范 <a class="header-anchor" href="#一-代码规范" aria-hidden="true">#</a></h1><h2 id="_1-1-集成editorconfig配置" tabindex="-1">1.1. 集成editorconfig配置 <a class="header-anchor" href="#_1-1-集成editorconfig配置" aria-hidden="true">#</a></h2><p>EditorConfig 有助于为不同 IDE 编辑器上处理同一项目的多个开发人员维护一致的编码风格。</p><div class="language-yaml"><span class="copy"></span><pre><code><span class="line"><span style="color:#7F848E;font-style:italic;"># http://editorconfig.org</span></span>
<span class="line"></span>
<span class="line"><span style="color:#98C379;">root = true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">[*] </span><span style="color:#7F848E;font-style:italic;"># 表示所有文件适用</span></span>
<span class="line"><span style="color:#98C379;">charset = utf-8</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;"># 设置文件字符集为 utf-8</span></span>
<span class="line"><span style="color:#98C379;">indent_style = space</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;"># 缩进风格（tab | space）</span></span>
<span class="line"><span style="color:#98C379;">indent_size = 2</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;"># 缩进大小</span></span>
<span class="line"><span style="color:#98C379;">end_of_line = lf</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;"># 控制换行类型(lf | cr | crlf)</span></span>
<span class="line"><span style="color:#98C379;">trim_trailing_whitespace = true</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;"># 去除行首的任意空白字符</span></span>
<span class="line"><span style="color:#98C379;">insert_final_newline = true</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;"># 始终在文件末尾插入一个新行</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">[</span><span style="color:#C678DD;">*</span><span style="color:#E06C75;">.md</span><span style="color:#ABB2BF;">] </span><span style="color:#7F848E;font-style:italic;"># 表示仅 md 文件适用以下规则</span></span>
<span class="line"><span style="color:#98C379;">max_line_length = off</span></span>
<span class="line"><span style="color:#98C379;">trim_trailing_whitespace = false</span></span>
<span class="line"></span></code></pre></div><p>VSCode需要安装一个插件：EditorConfig for VS Code</p><p><img src="/assets/008i3skNgy1gsq2gh989yj30pj05ggmb.eaa9f0e6.jpg" alt="image-20210722215138665"></p><h2 id="_1-2-使用prettier工具" tabindex="-1">1.2. 使用prettier工具 <a class="header-anchor" href="#_1-2-使用prettier工具" aria-hidden="true">#</a></h2><p>Prettier 是一款强大的代码格式化工具，支持 JavaScript、TypeScript、CSS、SCSS、Less、JSX、Angular、Vue、GraphQL、JSON、Markdown 等语言，基本上前端能用到的文件格式它都可以搞定，是当下最流行的代码格式化工具。</p><p><a href="https://www.prettier.cn/" target="_blank" rel="noopener noreferrer"><code>prettier</code> 中文官网！</a></p><p>1.安装prettier</p><div class="language-shell"><span class="copy"></span><pre><code><span class="line"><span style="color:#ABB2BF;">npm install prettier -D</span></span>
<span class="line"></span></code></pre></div><p>2.配置.prettierrc文件：</p><ul><li>useTabs：使用tab缩进还是空格缩进，选择false；</li><li>tabWidth：tab是空格的情况下，是几个空格，选择2个；</li><li>printWidth：当行字符的长度，推荐80，也有人喜欢100或者120；</li><li>singleQuote：使用单引号还是双引号，选择true，使用单引号；</li><li>trailingComma：在多行输入的尾逗号是否添加，设置为 <code>none</code>；</li><li>semi：语句末尾是否要加分号，默认值true，选择false表示不加；</li></ul><div class="language-json"><span class="copy"></span><pre><code><span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">&quot;useTabs&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">false</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">&quot;tabWidth&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">&quot;printWidth&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">80</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">&quot;singleQuote&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">&quot;trailingComma&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;none&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">&quot;semi&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">false</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre></div><p>3.创建.prettierignore忽略文件</p><div class="language-"><span class="copy"></span><pre><code><span class="line"><span style="color:#abb2bf;">/dist/*</span></span>
<span class="line"><span style="color:#abb2bf;">.local</span></span>
<span class="line"><span style="color:#abb2bf;">.output.js</span></span>
<span class="line"><span style="color:#abb2bf;">/node_modules/**</span></span>
<span class="line"><span style="color:#abb2bf;"></span></span>
<span class="line"><span style="color:#abb2bf;">**/*.svg</span></span>
<span class="line"><span style="color:#abb2bf;">**/*.sh</span></span>
<span class="line"><span style="color:#abb2bf;"></span></span>
<span class="line"><span style="color:#abb2bf;">/public/*</span></span>
<span class="line"><span style="color:#abb2bf;"></span></span></code></pre></div><p>4.VSCode需要安装prettier的插件</p><p><img src="/assets/008i3skNgy1gsq2acx21rj30ow057mxp.13bd6cff.jpg" alt="image-20210722214543454"></p><p>5.测试prettier是否生效</p><ul><li>测试一：在代码中保存代码；</li><li>测试二：配置一次性修改的命令；</li></ul><p>在package.json中配置一个scripts：</p><div class="language-json"><span class="copy"></span><pre><code><span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#98C379;">&quot;prettier&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;prettier --write .&quot;</span></span>
<span class="line"></span></code></pre></div><h2 id="_1-3-使用eslint检测" tabindex="-1">1.3. 使用ESLint检测 <a class="header-anchor" href="#_1-3-使用eslint检测" aria-hidden="true">#</a></h2><p>在前面创建项目的时候，我们就选择了ESLint，所以Vue会默认帮助我们配置需要的ESLint环境。</p><p><code>.eslintrc.js配置文件</code></p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#E5C07B;">module</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">exports</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// 表示当前目录即为根目录，ESLint 规则将被限制到该目录下</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">root</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// env 表示启用 ESLint 检测的环境</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">env</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;">// 在 node 环境下启动 ESLint 检测</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">node</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">true</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// ESLint 中基础配置需要继承的配置</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">extends</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&quot;plugin:vue/vue3-essential&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;@vue/standard&quot;</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// 解析器</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">parserOptions</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">parser</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;babel-eslint&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// 需要修改的启用规则及其各自的错误级别</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">   * 错误级别分为三种：</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">   * &quot;off&quot; 或 0 - 关闭规则</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">   * &quot;warn&quot; 或 1 - 开启规则，使用警告级别的错误：warn (不会导致程序退出)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">   * &quot;error&quot; 或 2 - 开启规则，使用错误级别的错误：error (当被触发的时候，程序会退出)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">   */</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">rules</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#98C379;">&quot;no-console&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">process</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">env</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">NODE_ENV</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">===</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;production&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">?</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;warn&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">:</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;off&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#98C379;">&quot;no-debugger&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">process</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">env</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">NODE_ENV</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">===</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;production&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">?</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;warn&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">:</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;off&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"></span></code></pre></div><p><strong>修改 <code>ESLint</code> 的验证规则：</strong></p><ol><li><p>在 <code>.eslintrc.js</code> 文件中，新增一条验证规则</p><div class="language-json"><span class="copy"></span><pre><code><span class="line"><span style="color:#98C379;">&quot;quotes&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;error&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">// 默认</span></span>
<span class="line"><span style="color:#98C379;">&quot;quotes&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;warn&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">// 修改为警告</span></span>
<span class="line"><span style="color:#98C379;">&quot;quotes&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;off&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">// 修改不校验</span></span>
<span class="line"></span></code></pre></div></li></ol><p>2.VSCode需要安装ESLint插件：</p><p><img src="/assets/008i3skNgy1gsq2oq26odj30pw05faaq.4080690e.jpg" alt="image-20210722215933360"></p><p>3.解决eslint和prettier冲突的问题：</p><p>安装插件：（vue在创建项目时，如果选择prettier，那么这两个插件会自动安装）</p><div class="language-shell"><span class="copy"></span><pre><code><span class="line"><span style="color:#ABB2BF;">npm i eslint-plugin-prettier eslint-config-prettier -D</span></span>
<span class="line"></span></code></pre></div><p>添加prettier插件：</p><div class="language-json"><span class="copy"></span><pre><code><span class="line"><span style="color:#ABB2BF;">  extends: [</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#98C379;">&quot;plugin:vue/vue3-essential&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#98C379;">&quot;eslint:recommended&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#98C379;">&quot;@vue/typescript/recommended&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#98C379;">&quot;@vue/prettier&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#98C379;">&quot;@vue/prettier/@typescript-eslint&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#FFFFFF;">&#39;plugin:prettier/recommended&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">  ],</span></span>
<span class="line"></span></code></pre></div><p><code>prettier</code> 和 <code>ESLint</code> 的其他冲突问题。</p><ol><li><p>打开 <code>.eslintrc.js</code> 配置文件</p></li><li><p>在 <code>rules</code> 规则下，新增一条规则</p><div class="language-json"><span class="copy"></span><pre><code><span class="line"><span style="color:#ABB2BF;">&#39;space-before-function-paren&#39;: &#39;off&#39;</span></span>
<span class="line"></span></code></pre></div></li><li><p>该规则表示关闭《方法名后增加空格》的规则</p></li></ol><h2 id="_1-4-git-husky和eslint" tabindex="-1">1.4. git Husky和eslint <a class="header-anchor" href="#_1-4-git-husky和eslint" aria-hidden="true">#</a></h2><p>虽然我们已经要求项目使用eslint了，但是不能保证组员提交代码之前都将eslint中的问题解决掉了：</p><ul><li><p>也就是我们希望保证代码仓库中的代码都是符合eslint规范的；</p></li><li><p>那么我们需要在组员执行 <code>git commit </code> 命令的时候对其进行校验，如果不符合eslint规范，那么自动通过规范进行修复；</p></li></ul><p>那么如何做到这一点呢？可以通过Husky工具：</p><ul><li>husky是一个git hook工具，可以帮助我们触发git提交的各个阶段：pre-commit、commit-msg、pre-push</li></ul><p>如何使用husky呢？</p><p>这里我们可以使用自动配置命令：</p><div class="language-shell"><span class="copy"></span><pre><code><span class="line"><span style="color:#ABB2BF;">npx husky-init &amp;&amp; npm install</span></span>
<span class="line"></span></code></pre></div><p>这里会做三件事：</p><p>1.安装husky相关的依赖：</p><p><code>限定版本：</code></p><div class="language-shell"><span class="copy"></span><pre><code><span class="line"><span style="color:#ABB2BF;">npm install husky@7.0.1 --save-dev</span></span>
<span class="line"></span></code></pre></div><p><code>直接安装</code></p><div class="language-shell"><span class="copy"></span><pre><code><span class="line"><span style="color:#ABB2BF;">npm install husky --save-dev</span></span>
<span class="line"></span></code></pre></div><p><img src="/assets/008i3skNgy1gsqq0o5jxmj30bb04qwen.b2844fb9.jpg" alt="image-20210723112648927"></p><p>2.在项目目录下创建 <code>.husky</code> 文件夹：</p><div class="language-"><span class="copy"></span><pre><code><span class="line"><span style="color:#abb2bf;">npx huksy install</span></span>
<span class="line"><span style="color:#abb2bf;"></span></span></code></pre></div><p><img src="/assets/008i3skNgy1gsqq16zo75j307703mt8m.13541a1d.jpg" alt="image-20210723112719634"></p><p>3.在 <code>package.json</code> 中生成 <code>prepare</code> 指令（ <strong>需要 npm &gt; 7.0 版本</strong> ）：</p><div class="language-shell"><span class="copy"></span><pre><code><span class="line"><span style="color:#ABB2BF;">npm set-script prepare </span><span style="color:#98C379;">&quot;husky install&quot;</span></span>
<span class="line"></span></code></pre></div><p><img src="/assets/008i3skNgy1gsqq26phpxj30dj06fgm3.6fb4c068.jpg" alt="image-20210723112817691"></p><p>接下来，我们需要去完成一个操作：在进行commit时，执行lint脚本：</p><ol><li><p>执行 <code>npx husky add .husky/pre-commit &quot;npx eslint --ext .js,.vue src&quot;</code> 添加 <code>commit</code> 时的 <code>hook</code> （<code>npx eslint --ext .js,.vue src</code> 会在执行到该 hook 时运行）</p></li><li><p>该操作会生成对应文件 <code>pre-commit</code>：</p></li></ol><p><img src="/assets/008i3skNgy1gsqq3hn229j30nf04z74q.6e87ab0d.jpg" alt="image-20210723112932943"></p><p>这个时候我们执行git commit的时候会自动对代码进行lint校验。</p><h2 id="_1-5-git-commit规范" tabindex="-1">1.5. git commit规范 <a class="header-anchor" href="#_1-5-git-commit规范" aria-hidden="true">#</a></h2><h3 id="_1-5-1-代码提交风格" tabindex="-1">1.5.1. 代码提交风格 <a class="header-anchor" href="#_1-5-1-代码提交风格" aria-hidden="true">#</a></h3><p>通常我们的git commit会按照统一的风格来提交，这样可以快速定位每次提交的内容，方便之后对版本进行控制。</p><p><img src="/assets/008i3skNgy1gsqw17gaqjj30to0cj3zp.c21df21e.jpg" alt=""></p><p>但是如果每次手动来编写这些是比较麻烦的事情，我们可以使用一个工具：Commitizen</p><ul><li>Commitizen 是一个帮助我们编写规范 commit message 的工具；</li></ul><p>1.安装Commitizen</p><div class="language-shell"><span class="copy"></span><pre><code><span class="line"><span style="color:#ABB2BF;">npm install -g commitizen@4.2.4</span></span>
<span class="line"></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>使用自定义提交风格的话,不需要执行下一步。直接按照<a href="###1.5.2%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8F%90%E4%BA%A4%E9%A3%8E%E6%A0%BC">1.5.2</a>的步骤即可。</p></div><p>2.安装cz-conventional-changelog，并且初始化cz-conventional-changelog：</p><div class="language-shell"><span class="copy"></span><pre><code><span class="line"><span style="color:#ABB2BF;">npx commitizen init cz-conventional-changelog --save-dev --save-exact</span></span>
<span class="line"></span></code></pre></div><p>这个命令会帮助我们安装cz-conventional-changelog：</p><p><img src="/assets/008i3skNgy1gsqvz2odi4j30ek00zmx2.9cec65ae.jpg" alt="image-20210723145249096"></p><p>并且在package.json中进行配置：</p><p><img src="/assets/008i3skNgy1gsqvzftay5j30iu04k74d.42a295e0.jpg" alt=""></p><p>这个时候我们提交代码需要使用 <code>npx cz</code>：</p><ul><li>第一步是选择type，本次更新的类型</li></ul><table><thead><tr><th>Type</th><th>作用</th></tr></thead><tbody><tr><td>feat</td><td>新增特性 (feature)</td></tr><tr><td>fix</td><td>修复 Bug(bug fix)</td></tr><tr><td>docs</td><td>修改文档 (documentation)</td></tr><tr><td>style</td><td>代码格式修改(white-space, formatting, missing semi colons, etc)</td></tr><tr><td>refactor</td><td>代码重构(refactor)</td></tr><tr><td>perf</td><td>改善性能(A code change that improves performance)</td></tr><tr><td>test</td><td>测试(when adding missing tests)</td></tr><tr><td>build</td><td>变更项目构建或外部依赖（例如 scopes: webpack、gulp、npm 等）</td></tr><tr><td>ci</td><td>更改持续集成软件的配置文件和 package 中的 scripts 命令，例如 scopes: Travis, Circle 等</td></tr><tr><td>chore</td><td>变更构建流程或辅助工具(比如更改测试环境)</td></tr><tr><td>revert</td><td>代码回退</td></tr></tbody></table><ul><li>第二步选择本次修改的范围（作用域）</li></ul><p><img src="/assets/008i3skNgy1gsqw8ca15oj30r600wmx4.a380fc1e.jpg" alt="image-20210723150147510"></p><ul><li>第三步选择提交的信息</li></ul><p><img src="/assets/008i3skNgy1gsqw8mq3zlj60ni01hmx402.6d58d0f3.jpg" alt="image-20210723150204780"></p><ul><li>第四步提交详细的描述信息</li></ul><p><img src="/assets/008i3skNgy1gsqw8y05bjj30kt01fjrb.ad33c921.jpg" alt="image-20210723150223287"></p><ul><li>第五步是否是一次重大的更改</li></ul><p><img src="/assets/008i3skNgy1gsqw9z5vbij30bm00q744.f88b5fd9.jpg" alt="image-20210723150322122"></p><ul><li>第六步是否影响某个open issue</li></ul><p><img src="/assets/008i3skNgy1gsqwar8xp1j30fq00ya9x.c2118300.jpg" alt="image-20210723150407822"></p><p>我们也可以在scripts中构建一个命令来执行 cz：</p><p><img src="/assets/008i3skNgy1gsqwc4gtkxj30e207174t.c742cbaf.jpg" alt="image-20210723150526211"></p><h3 id="_1-5-2自定义提交风格" tabindex="-1">1.5.2自定义提交风格 <a class="header-anchor" href="#_1-5-2自定义提交风格" aria-hidden="true">#</a></h3><ol><li><p>安装并配置 <code>cz-customizable</code> 插件</p><ol><li><p>使用 <code>npm</code> 下载 <code>cz-customizable</code></p><div class="language-shell"><span class="copy"></span><pre><code><span class="line"><span style="color:#ABB2BF;">npm i cz-customizable@6.3.0 --save-dev</span></span>
<span class="line"></span></code></pre></div></li><li><p>添加以下配置到 <code>package.json </code> 中</p><div class="language-json"><span class="copy"></span><pre><code><span class="line"><span style="color:#ABB2BF;">...</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#98C379;">&quot;config&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">&quot;commitizen&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">&quot;path&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;node_modules/cz-customizable&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"></span></code></pre></div></li></ol></li><li><p>项目根目录下创建 <code>.cz-config.js</code> 自定义提示文件</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#E5C07B;">module</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">exports</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// 可选类型</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">types</span><span style="color:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#ABB2BF;">    { </span><span style="color:#E06C75;">value</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;feat&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;feat:     新功能&#39;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">    { </span><span style="color:#E06C75;">value</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;fix&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;fix:      修复&#39;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">    { </span><span style="color:#E06C75;">value</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;docs&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;docs:     文档变更&#39;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">    { </span><span style="color:#E06C75;">value</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;style&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;style:    代码格式(不影响代码运行的变动)&#39;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">    {</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">value</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;refactor&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;refactor: 重构(既不是增加feature，也不是修复bug)&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#ABB2BF;">    { </span><span style="color:#E06C75;">value</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;perf&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;perf:     性能优化&#39;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">    { </span><span style="color:#E06C75;">value</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;test&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;test:     增加测试&#39;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">    { </span><span style="color:#E06C75;">value</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;chore&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;chore:    构建过程或辅助工具的变动&#39;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">    { </span><span style="color:#E06C75;">value</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;revert&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;revert:   回退&#39;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">    { </span><span style="color:#E06C75;">value</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;build&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;build:    打包&#39;</span><span style="color:#ABB2BF;"> }</span></span>
<span class="line"><span style="color:#ABB2BF;">  ],</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// 消息步骤</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">messages</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">type</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;请选择提交类型:&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">customScope</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;请输入修改范围(可选):&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">subject</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;请简要描述提交(必填):&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;请输入详细描述(可选):&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">footer</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;请输入要关闭的issue(可选):&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">confirmCommit</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;确认使用以上信息提交？(y/n/e/h)&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// 跳过问题</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">skipQuestions</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&#39;body&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;footer&#39;</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// subject文字长度默认是72</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">subjectLimit</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">72</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre></div></li><li><p>使用 <code>git cz</code> 代替 <code>git commit</code> 使用 <code>git cz</code> 代替 <code>git commit</code>，即可看到提示内容</p></li></ol><h3 id="_1-5-3-什么是-git-hooks" tabindex="-1">1.5.3 什么是 Git Hooks <a class="header-anchor" href="#_1-5-3-什么是-git-hooks" aria-hidden="true">#</a></h3><p>上一小节中我们使用了 <code>git cz</code> 来代替了 <code>git commit</code> 实现了规范化的提交诉求，但是依然存在着有人会忘记使用的问题。</p><p>那么这一小节我们就来看一下这样的问题，我们应该如何去进行解决。</p><p>先来明确一下我们最终要实现的效果：</p><blockquote><p>我们希望：</p><p>当《提交描述信息》不符合 <a href="https://www.conventionalcommits.org/zh-hans/v1.0.0/" target="_blank" rel="noopener noreferrer">约定式提交规范</a> 的时候，阻止当前的提交，并抛出对应的错误提示</p></blockquote><p>而要实现这个目的，我们就需要先来了解一个概念，叫做 <code>Git hooks（git 钩子 || git 回调方法）</code></p><p>也就是：<strong><code>git</code> 在执行某个事件之前或之后进行一些其他额外的操作</strong></p><p>而我们所期望的 <strong>阻止不合规的提交消息</strong>，那么就需要使用到 <code>hooks</code> 的钩子函数。</p><p>下面是我整理出来的所有的 <code>hooks</code> ，大家可以进行一下参考，其中加粗的是常用到的 <code>hooks</code>：</p><table><thead><tr><th style="text-align:left;">Git Hook</th><th>调用时机</th><th>说明</th></tr></thead><tbody><tr><td style="text-align:left;">pre-applypatch</td><td><code>git am</code>执行前</td><td></td></tr><tr><td style="text-align:left;">applypatch-msg</td><td><code>git am</code>执行前</td><td></td></tr><tr><td style="text-align:left;">post-applypatch</td><td><code>git am</code>执行后</td><td>不影响<code>git am</code>的结果</td></tr><tr><td style="text-align:left;"><strong>pre-commit</strong></td><td><code>git commit</code>执行前</td><td>可以用<code>git commit --no-verify</code>绕过</td></tr><tr><td style="text-align:left;"><strong>commit-msg</strong></td><td><code>git commit</code>执行前</td><td>可以用<code>git commit --no-verify</code>绕过</td></tr><tr><td style="text-align:left;">post-commit</td><td><code>git commit</code>执行后</td><td>不影响<code>git commit</code>的结果</td></tr><tr><td style="text-align:left;">pre-merge-commit</td><td><code>git merge</code>执行前</td><td>可以用<code>git merge --no-verify</code>绕过。</td></tr><tr><td style="text-align:left;">prepare-commit-msg</td><td><code>git commit</code>执行后，编辑器打开之前</td><td></td></tr><tr><td style="text-align:left;">pre-rebase</td><td><code>git rebase</code>执行前</td><td></td></tr><tr><td style="text-align:left;">post-checkout</td><td><code>git checkout</code>或<code>git switch</code>执行后</td><td>如果不使用<code>--no-checkout</code>参数，则在<code>git clone</code>之后也会执行。</td></tr><tr><td style="text-align:left;">post-merge</td><td><code>git commit</code>执行后</td><td>在执行<code>git pull</code>时也会被调用</td></tr><tr><td style="text-align:left;">pre-push</td><td><code>git push</code>执行前</td><td></td></tr><tr><td style="text-align:left;">pre-receive</td><td><code>git-receive-pack</code>执行前</td><td></td></tr><tr><td style="text-align:left;">update</td><td></td><td></td></tr><tr><td style="text-align:left;">post-receive</td><td><code>git-receive-pack</code>执行后</td><td>不影响<code>git-receive-pack</code>的结果</td></tr><tr><td style="text-align:left;">post-update</td><td>当 <code>git-receive-pack</code>对 <code>git push</code> 作出反应并更新仓库中的引用时</td><td></td></tr><tr><td style="text-align:left;">push-to-checkout</td><td>当``git-receive-pack<code>对</code>git push<code>做出反应并更新仓库中的引用时，以及当推送试图更新当前被签出的分支且</code>receive.denyCurrentBranch<code>配置被设置为</code>updateInstead`时</td><td></td></tr><tr><td style="text-align:left;">pre-auto-gc</td><td><code>git gc --auto</code>执行前</td><td></td></tr><tr><td style="text-align:left;">post-rewrite</td><td>执行<code>git commit --amend</code>或<code>git rebase</code>时</td><td></td></tr><tr><td style="text-align:left;">sendemail-validate</td><td><code>git send-email</code>执行前</td><td></td></tr><tr><td style="text-align:left;">fsmonitor-watchman</td><td>配置<code>core.fsmonitor</code>被设置为<code>.git/hooks/fsmonitor-watchman</code>或<code>.git/hooks/fsmonitor-watchmanv2</code>时</td><td></td></tr><tr><td style="text-align:left;">p4-pre-submit</td><td><code>git-p4 submit</code>执行前</td><td>可以用<code>git-p4 submit --no-verify</code>绕过</td></tr><tr><td style="text-align:left;">p4-prepare-changelist</td><td><code>git-p4 submit</code>执行后，编辑器启动前</td><td>可以用<code>git-p4 submit --no-verify</code>绕过</td></tr><tr><td style="text-align:left;">p4-changelist</td><td><code>git-p4 submit</code>执行并编辑完<code>changelist message</code>后</td><td>可以用<code>git-p4 submit --no-verify</code>绕过</td></tr><tr><td style="text-align:left;">p4-post-changelist</td><td><code>git-p4 submit</code>执行后</td><td></td></tr><tr><td style="text-align:left;">post-index-change</td><td>索引被写入到<code>read-cache.c do_write_locked_index</code>后</td><td></td></tr></tbody></table><p>PS：详细的 <code>HOOKS介绍</code> 可点击<a href="https://git-scm.com/docs/githooks" target="_blank" rel="noopener noreferrer">这里</a>查看</p><p>整体的 <code>hooks</code> 非常多，当时我们其中用的比较多的其实只有两个：</p><table><thead><tr><th style="text-align:left;">Git Hook</th><th>调用时机</th><th>说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>pre-commit</strong></td><td><code>git commit</code>执行前<br>它不接受任何参数，并且在获取提交日志消息并进行提交之前被调用。脚本<code>git commit</code>以非零状态退出会导致命令在创建提交之前中止。</td><td>可以用<code>git commit --no-verify</code>绕过</td></tr><tr><td style="text-align:left;"><strong>commit-msg</strong></td><td><code>git commit</code>执行前<br>可用于将消息规范化为某种项目标准格式。<br>还可用于在检查消息文件后拒绝提交。</td><td>可以用<code>git commit --no-verify</code>绕过</td></tr></tbody></table><p>简单来说这两个钩子：</p><ol><li><code>commit-msg</code>：可以用来规范化标准格式，并且可以按需指定是否要拒绝本次提交</li><li><code>pre-commit</code>：会在提交前被调用，并且可以按需指定是否要拒绝本次提交</li></ol><h3 id="_1-5-4-代码提交验证" tabindex="-1">1.5.4. 代码提交验证 <a class="header-anchor" href="#_1-5-4-代码提交验证" aria-hidden="true">#</a></h3><p>如果我们按照cz来规范了提交风格，但是依然有同事通过 <code>git commit</code> 按照不规范的格式提交应该怎么办呢？</p><ol><li><p><a href="https://github.com/conventional-changelog/commitlint" target="_blank" rel="noopener noreferrer">commitlint</a>：用于检查提交信息</p></li><li><p><a href="https://github.com/typicode/husky" target="_blank" rel="noopener noreferrer">husky</a>：是<code>git hooks</code>工具</p></li></ol><p>注意：<strong><code>npm</code> 需要在 7.x 以上版本！！！！！</strong></p><p><strong>commitlint</strong></p><ol><li><p>安装 @commitlint/config-conventional 和 @commitlint/cli</p><p><code>限定版本安装：</code></p><div class="language-shell"><span class="copy"></span><pre><code><span class="line"><span style="color:#ABB2BF;">npm install --save-dev @commitlint/config-conventional@12.1.4 @commitlint/cli@12.1.4</span></span>
<span class="line"></span></code></pre></div><p><code>直接安装:</code></p><div class="language-shell"><span class="copy"></span><pre><code><span class="line"><span style="color:#ABB2BF;">npm i @commitlint/config-conventional @commitlint/cli -D</span></span>
<span class="line"></span></code></pre></div></li><li><p>在根目录创建 <code>commitlint.config.js</code> ，配置commitlint文件</p><p><code>直接使用命令行</code></p><div class="language-shell"><span class="copy"></span><pre><code><span class="line"><span style="color:#56B6C2;">echo</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;module.exports = {extends: [&#39;@commitlint/config-conventional&#39;]}&quot;</span><span style="color:#ABB2BF;"> &gt; commitlint.config.js</span></span>
<span class="line"></span></code></pre></div><p><code>手动创建</code></p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#E5C07B;">module</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">exports</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">extends</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&#39;@commitlint/config-conventional&#39;</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre></div></li><li><p>打开 <code>commitlint.config.js</code> ， 增加配置项（ <a href="https://github.com/conventional-changelog/commitlint/blob/master/@commitlint/config-conventional/index.js" target="_blank" rel="noopener noreferrer">config-conventional 默认配置点击可查看</a> ）：</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#E5C07B;">module</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">exports</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// 继承的规则</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">extends</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&#39;@commitlint/config-conventional&#39;</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// 定义规则类型</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">rules</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;">// type 类型定义，表示 git 提交的 type 必须在以下类型范围内</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#98C379;">&#39;type-enum&#39;</span><span style="color:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#98C379;">&#39;always&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">      [</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#98C379;">&#39;feat&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 新功能 feature</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#98C379;">&#39;fix&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 修复 bug</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#98C379;">&#39;docs&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 文档注释</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#98C379;">&#39;style&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 代码格式(不影响代码运行的变动)</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#98C379;">&#39;refactor&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 重构(既不增加新功能，也不是修复bug)</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#98C379;">&#39;perf&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 性能优化</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#98C379;">&#39;test&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 增加测试</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#98C379;">&#39;chore&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 构建过程或辅助工具的变动</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#98C379;">&#39;revert&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 回退</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#98C379;">&#39;build&#39;</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">// 打包</span></span>
<span class="line"><span style="color:#ABB2BF;">      ]</span></span>
<span class="line"><span style="color:#ABB2BF;">    ],</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;">// subject 大小写不做校验</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#98C379;">&#39;subject-case&#39;</span><span style="color:#ABB2BF;">: [</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div></li><li><p>使用husky生成commit-msg文件，验证提交信息：</p><div class="language-shell"><span class="copy"></span><pre><code><span class="line"><span style="color:#ABB2BF;">npx husky add .husky/commit-msg </span><span style="color:#98C379;">&quot;npx --no-install commitlint --edit </span><span style="color:#E06C75;">$1</span><span style="color:#98C379;">&quot;</span></span>
<span class="line"></span></code></pre></div></li><li><p>此时的 <code>.husky</code> 的文件结构 ![image-20210710120228931](../../../Nodes-master/nodes/第二章：标准化大厂编程规范解决方案之ESLint + Git Hooks .assets/image-20210710120228931.png)</p></li></ol><p>至此， 不符合规范的 commit 将不再可提交：</p><div class="language-shell"><span class="copy"></span><pre><code><span class="line"><span style="color:#ABB2BF;">PS F:</span><span style="color:#E5C07B;">\x</span><span style="color:#ABB2BF;">xxxxxxxxxxxxxxxxxxxx</span><span style="color:#E5C07B;">\i</span><span style="color:#ABB2BF;">mooc-admin&gt; git commit -m </span><span style="color:#98C379;">&quot;测试&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">⧗   input: 测试</span></span>
<span class="line"><span style="color:#ABB2BF;">✖   subject may not be empty [subject-empty]</span></span>
<span class="line"><span style="color:#ABB2BF;">✖   </span><span style="color:#56B6C2;">type</span><span style="color:#ABB2BF;"> may not be empty [type-empty]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">✖   found 2 problems, 0 warnings</span></span>
<span class="line"><span style="color:#ABB2BF;">ⓘ   Get help: https://github.com/conventional-changelog/commitlint/</span><span style="color:#7F848E;font-style:italic;">#what-is-commitlint</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">husky - commit-msg hook exited with code 1 (error)</span></span>
<span class="line"></span></code></pre></div><p><strong>注意：确保保存为 <code>UTF-8</code> 的编码格式</strong>，否则可能会出现以下错误：</p><p><img src="/assets/image-20210710121456416.405fcd5c.png" alt="image-20210710121456416"></p><h3 id="_1-5-5-lint-staged-自动修复格式错误" tabindex="-1">1.5.5 lint-staged 自动修复格式错误 <a class="header-anchor" href="#_1-5-5-lint-staged-自动修复格式错误" aria-hidden="true">#</a></h3><p><a href="https://github.com/okonet/lint-staged" target="_blank" rel="noopener noreferrer">lint-staged</a> 可以让你当前的代码检查 <strong>只检查本次修改更新的代码，并在出现错误的时候，自动修复并且推送</strong></p><p><a href="https://github.com/okonet/lint-staged" target="_blank" rel="noopener noreferrer">lint-staged</a> 无需单独安装，我们生成项目时，<code>vue-cli</code> 已经帮助我们安装过了，所以我们直接使用就可以了</p><ol><li><p>修改 <code>package.json</code> 配置</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#98C379;">&quot;lint-staged&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#98C379;">&quot;src/**/*.{js,vue}&quot;</span><span style="color:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#98C379;">&quot;eslint --fix&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#98C379;">&quot;git add&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">    ]</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"></span></code></pre></div></li><li><p>如上配置，每次它只会在你本地 <code>commit</code> 之前，校验你提交的内容是否符合你本地配置的 <code>eslint</code>规则(这个见文档 <a href="https://panjiachen.github.io/vue-element-admin-site/zh/guide/advanced/eslint.html" target="_blank" rel="noopener noreferrer">ESLint</a> )，校验会出现两种结果：</p><ol><li>如果符合规则：则会提交成功。</li><li>如果不符合规则：它会自动执行 <code>eslint --fix</code> 尝试帮你自动修复，如果修复成功则会帮你把修复好的代码提交，如果失败，则会提示你错误，让你修好这个错误之后才能允许你提交代码。</li></ol></li><li><p>修改 <code>.husky/pre-commit</code> 文件</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#7F848E;font-style:italic;">#!/bin/sh</span></span>
<span class="line"><span style="color:#ABB2BF;">. </span><span style="color:#98C379;">&quot;$(dirname &quot;</span><span style="color:#E06C75;">$0</span><span style="color:#98C379;">&quot;)/_/husky.sh&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;">npx</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">lint</span><span style="color:#56B6C2;">-</span><span style="color:#E06C75;">staged</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div></li><li><p>再次执行提交代码</p></li><li><p>发现 <strong>暂存区中</strong> 不符合 <code>ESlint</code> 的内容，被自动修复</p></li></ol></div></div></main><footer class="VPDocFooter" data-v-79ca2460 data-v-04568844><div class="edit-info" data-v-04568844><!----><div class="last-updated" data-v-04568844><p class="VPLastUpdated" data-v-04568844 data-v-0ce8c960>Last updated: <time datatime="2022-08-21T10:51:57.000Z" data-v-0ce8c960></time></p></div></div><div class="prev-next" data-v-04568844><div class="pager" data-v-04568844><!----></div><div class="pager" data-v-04568844><a class="pager-link next" href="/build-tools/project-build/code-specification.html" data-v-04568844><span class="desc" data-v-04568844>Next page</span><span class="title" data-v-04568844>一. 代码规范</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-6b5fd0a9 data-v-5b331722><div class="container" data-v-5b331722><p class="message" data-v-5b331722>Released under the MIT License.</p><p class="copyright" data-v-5b331722>Copyright © 2022-present fql</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"build-tools_axios.md\":\"32f0886a\",\"build-tools_babel.md\":\"51faf89c\",\"build-tools_project-build_code-specification.md\":\"a4938e33\",\"build-tools_project-build_default-configuration.md\":\"827c7065\",\"build-tools_project-build_third-party-library-integration.md\":\"c49da3c9\",\"build-tools_vite_basic.md\":\"fae9274c\",\"build-tools_vite_build.md\":\"368e4c68\",\"build-tools_vite_esbuild.md\":\"86ad2549\",\"build-tools_vite_installuse.md\":\"e80e56d7\",\"build-tools_vite_support.md\":\"25418aa9\",\"build-tools_webpack_basic.md\":\"747ef6d2\",\"build-tools_webpack_config.md\":\"a0f94231\",\"build-tools_webpack_support.md\":\"0d663d99\",\"build-tools_webpack_usesteps.md\":\"58f7bb1b\",\"build-tools_webpack_webpackservice.md\":\"9875f118\",\"framework_vue3_transition.md\":\"d5ce541a\",\"framework_vue3_basicconcepts.md\":\"c1b56c6e\",\"framework_vue3_basicusageandtemplatesyntax.md\":\"6fd8917e\",\"framework_vue3_basicinstruction.md\":\"3cb6219d\",\"framework_vue3_calculationproperties.md\":\"f7e9f642\",\"framework_vue3_componentfoundationt.md\":\"14ed04df\",\"framework_vue3_composition-api.md\":\"9c04e486\",\"framework_vue3_conditionalrendering.md\":\"cedab61a\",\"framework_vue3_listrendering.md\":\"6f1b5776\",\"framework_vue3_supplement.md\":\"291b35cb\",\"framework_vue3_v-bindandv-on.md\":\"d5afacb3\",\"framework_vue3_v-model.md\":\"4351b4ac\",\"framework_vue3_vue-cli.md\":\"97dffc22\",\"framework_vue3_watch.md\":\"4d70341e\",\"index.md\":\"69e803c8\",\"typescript_advanced-type.md\":\"27c0962e\",\"typescript_common-foundation-types.md\":\"ab30f4ee\",\"typescript_declare-variables.md\":\"c5ef5d57\",\"typescript_get-started-quickly.md\":\"618f79d7\",\"vue-plugin_pinia.md\":\"777a87ca\",\"vue-plugin_vue-router.md\":\"26a416e7\",\"vue-plugin_vuex.md\":\"d201108f\"}")</script>
    <script type="module" async src="/assets/app.2843b1ef.js"></script>
    
  </body>
</html>